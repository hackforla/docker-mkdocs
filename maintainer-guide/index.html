
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../user-guide/">
      
      
        <link rel="next" href="../dockerhub/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Maintainer Guide - Docker MkDocs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#maintainer-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Docker MkDocs" class="md-header__button md-logo" aria-label="Docker MkDocs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docker MkDocs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Maintainer Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hackforla/docker-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hackforla/docker-mkdocs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Docker MkDocs" class="md-nav__button md-logo" aria-label="Docker MkDocs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Docker MkDocs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hackforla/docker-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hackforla/docker-mkdocs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Maintainer Guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Maintainer Guide
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-layout" class="md-nav__link">
    <span class="md-ellipsis">
      Project layout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-run-mkdocs" class="md-nav__link">
    <span class="md-ellipsis">
      How to run MkDocs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to run MkDocs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-install-pip" class="md-nav__link">
    <span class="md-ellipsis">
      Local Install (pip)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-install-poetry" class="md-nav__link">
    <span class="md-ellipsis">
      Local Install (poetry)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-update-the-package-versions" class="md-nav__link">
    <span class="md-ellipsis">
      How to update the package versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-add-an-mkdocs-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      How to add an MkDocs plugin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Setup from scratch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup from scratch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Project directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poetry-project" class="md-nav__link">
    <span class="md-ellipsis">
      Poetry project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs-package" class="md-nav__link">
    <span class="md-ellipsis">
      Mkdocs package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs-project" class="md-nav__link">
    <span class="md-ellipsis">
      Mkdocs project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-dev-server" class="md-nav__link">
    <span class="md-ellipsis">
      Local dev server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#material-theme" class="md-nav__link">
    <span class="md-ellipsis">
      Material theme
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multirepo-not-yet-working" class="md-nav__link">
    <span class="md-ellipsis">
      Multirepo (not yet working)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Export requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-to-github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment to Github Pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Docker setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dockerhub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DockerHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../poetry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Poetry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dive
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-layout" class="md-nav__link">
    <span class="md-ellipsis">
      Project layout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-run-mkdocs" class="md-nav__link">
    <span class="md-ellipsis">
      How to run MkDocs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to run MkDocs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-install-pip" class="md-nav__link">
    <span class="md-ellipsis">
      Local Install (pip)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-install-poetry" class="md-nav__link">
    <span class="md-ellipsis">
      Local Install (poetry)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-update-the-package-versions" class="md-nav__link">
    <span class="md-ellipsis">
      How to update the package versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-add-an-mkdocs-plugin" class="md-nav__link">
    <span class="md-ellipsis">
      How to add an MkDocs plugin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Setup from scratch
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup from scratch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Project directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poetry-project" class="md-nav__link">
    <span class="md-ellipsis">
      Poetry project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs-package" class="md-nav__link">
    <span class="md-ellipsis">
      Mkdocs package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs-project" class="md-nav__link">
    <span class="md-ellipsis">
      Mkdocs project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-dev-server" class="md-nav__link">
    <span class="md-ellipsis">
      Local dev server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#material-theme" class="md-nav__link">
    <span class="md-ellipsis">
      Material theme
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multirepo-not-yet-working" class="md-nav__link">
    <span class="md-ellipsis">
      Multirepo (not yet working)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Export requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-to-github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment to Github Pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Docker setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/hackforla/docker-mkdocs/edit/main/docs/maintainer-guide.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="maintainer-guide">Maintainer Guide<a class="headerlink" href="#maintainer-guide" title="Permanent link">&para;</a></h1>
<h2 id="project-layout">Project layout<a class="headerlink" href="#project-layout" title="Permanent link">&para;</a></h2>
<div class="highlight"><span class="filename">Project structure</span><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">├── docker-compose.yml</span><span class="w"> </span><span class="c1"># Config to tag and run the image container</span>
<span class="l l-Scalar l-Scalar-Plain">├── Dockerfile</span><span class="w">         </span><span class="c1"># Instructions to build the image</span>
<span class="l l-Scalar l-Scalar-Plain">├── docs/</span><span class="w">              </span><span class="c1"># Contains documentation pages</span>
<span class="l l-Scalar l-Scalar-Plain">├── mkdocs.yml</span><span class="w">         </span><span class="c1"># MkDocs configs</span>
<span class="l l-Scalar l-Scalar-Plain">├── pyproject.toml</span><span class="w">     </span><span class="c1"># Poetry configs</span>
<span class="l l-Scalar l-Scalar-Plain">├── requirements.txt</span><span class="w">   </span><span class="c1"># Python packages list (generated)</span>
<span class="l l-Scalar l-Scalar-Plain">└── scripts</span>
<span class="w"> </span><span class="err">  </span><span class="l l-Scalar l-Scalar-Plain"> └── export_requirements.sh</span><span class="w"> </span><span class="c1"># Generates the requirements file</span>
</code></pre></div>
<p>We are following this <a href="https://docs.docker.com/build/ci/github-actions/multi-platform/">guide for multiplatform builds</a>. It recommends a matrix strategy if we ever need to add more platforms.</p>
<h2 id="how-to-run-mkdocs">How to run MkDocs<a class="headerlink" href="#how-to-run-mkdocs" title="Permanent link">&para;</a></h2>
<p>These are the ways to run MkDocs within this project.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Docker</label><label for="__tabbed_1_2">Local install (pip)</label><label for="__tabbed_1_3">Local install (poetry)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<h4 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">&para;</a></h4>
<p>This option is required for the other maintenance steps below.</p>
<ol>
<li>
<p>Build the image</p>
<div class="highlight"><pre><span></span><code>docker-compose<span class="w"> </span>build
</code></pre></div>
</li>
<li>
<p>Start the container</p>
<div class="highlight"><pre><span></span><code>docker-compose<span class="w"> </span>up
</code></pre></div>
</li>
<li>
<p>Open a browser to <code>http://localhost:8000/</code> to view the documentation locally</p>
</li>
<li>
<p>Modify the files in the <code>docs/</code> directory. The site will auto update when the files are saved.</p>
</li>
<li>
<p>Quit</p>
<p><span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span> to quit the local server and stop the container</p>
</li>
</ol>
</div>
<div class="tabbed-block">
<h4 id="local-install-pip">Local Install (pip)<a class="headerlink" href="#local-install-pip" title="Permanent link">&para;</a></h4>
<p>python should be version 3</p>
<ol>
<li>
<p>Install mkdocs</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>
</li>
<li>
<p>Start the local server</p>
<div class="highlight"><pre><span></span><code>mkdocs<span class="w"> </span>serve<span class="w"> </span>-a<span class="w"> </span>localhost:8000
</code></pre></div>
</li>
<li>
<p>Open a browser to <code>http://localhost:8000/</code> to view the documentation locally</p>
</li>
<li>
<p>Modify the files in the <code>docs/</code> directory. The site will auto update when the files are saved.</p>
</li>
<li>
<p>Quit</p>
<p><span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span> to quit mkdocs</p>
</li>
</ol>
</div>
<div class="tabbed-block">
<h4 id="local-install-poetry">Local Install (poetry)<a class="headerlink" href="#local-install-poetry" title="Permanent link">&para;</a></h4>
<p>python poetry must be installed in the local system. We recommend installing via pipx into an isolated environment.</p>
<ol>
<li>
<p>Install mkdocs</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>install
</code></pre></div>
</li>
<li>
<p>Start the local server</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>mkdocs<span class="w"> </span>serve<span class="w"> </span>-a<span class="w"> </span>localhost:8000
</code></pre></div>
</li>
<li>
<p>Open a browser to <code>http://localhost:8000/</code> to view the documentation locally</p>
</li>
<li>
<p>Modify the files in the <code>docs/</code> directory. The site will auto update when the files are saved.</p>
</li>
<li>
<p>Quit</p>
<p><span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span> to quit mkdocs</p>
</li>
</ol>
</div>
</div>
</div>
<h2 id="how-to-update-the-package-versions">How to update the package versions<a class="headerlink" href="#how-to-update-the-package-versions" title="Permanent link">&para;</a></h2>
<p>Staying updated may give us speed improvements (python), better security, and bugfixes. Docker hub, for example, can scan image layers to find packages with security advisories. These are the steps to update the package versions.</p>
<ol>
<li>
<p><a href="../poetry/#how-to-add-poetry-to-the-running-container">Add poetry to the container</a></p>
</li>
<li>
<p>Update packages using poetry</p>
<div class="highlight"><pre><span></span><code>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>mkdocs<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;poetry update&quot;</span>
</code></pre></div>
</li>
<li>
<p>Export <code>requirements.txt</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">script</label><label for="__tabbed_2_2">command</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./scripts/export_requirements.sh
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># (1)!</span>
docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>mkdocs<span class="w"> </span><span class="se">\</span>
poetry<span class="w"> </span><span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>requirements.txt<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt<span class="w"> </span><span class="c1"># (2)!</span>
</code></pre></div>
<ol>
<li>This docker-compose command runs the second line inside the docker container</li>
<li>Export in requirements.txt format, to requirements.txt.</li>
</ol>
</div>
</div>
</div>
</li>
<li>
<p>Commit the requirements file</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>add<span class="w"> </span>requirements.txt<span class="w"> </span>poetry.lock
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="s2">&quot;chore: update package versions&quot;</span>
</code></pre></div>
</li>
<li>
<p>Once merged into <code>main</code>, the CI will build the new image and upload it with the <code>latest</code> tag.</p>
</li>
</ol>
<h2 id="how-to-add-an-mkdocs-plugin">How to add an MkDocs plugin<a class="headerlink" href="#how-to-add-an-mkdocs-plugin" title="Permanent link">&para;</a></h2>
<p>Let's say we want to add the <code>mkdocs-multirepo-plugin</code>.</p>
<ol>
<li>
<p><a href="../poetry/#how-to-add-poetry-to-the-running-container">Add poetry to the container</a></p>
</li>
<li>
<p>Install the new MkDocs plugin</p>
<div class="highlight"><pre><span></span><code>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>mkdocs<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;poetry add mkdocs-multirepo-plugin&quot;</span>
</code></pre></div>
</li>
<li>
<p>Export <code>requirements.txt</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">script</label><label for="__tabbed_3_2">command</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./scripts/export_requirements.sh
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1"># (1)!</span>
docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>mkdocs<span class="w"> </span><span class="se">\</span>
poetry<span class="w"> </span><span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>requirements.txt<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt<span class="w"> </span><span class="c1"># (2)!</span>
</code></pre></div>
<ol>
<li>This docker-compose command runs the second line inside the docker container</li>
<li>Export in requirements.txt format, to requirements.txt.</li>
</ol>
</div>
</div>
</div>
</li>
<li>
<p>Add any system dependencies in the <code>Dockerfile</code></p>
<p>We're adding git here, which is a dependency of mkdocs-multirepo-plugin</p>
<div class="highlight"><span class="filename">Dockerfile</span><pre><span></span><code>...
<span class="c"># install system dependencies</span>
<span class="k">RUN</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--mount<span class="o">=</span><span class="nv">type</span><span class="o">=</span>cache,target<span class="o">=</span>/var/cache<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>apk<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<span class="w">  </span><span class="nv">git</span><span class="o">=</span><span class="m">2</span>.40.1-r0
<span class="c"># (1)!</span>
...
</code></pre></div>
<ol>
<li>Mount the <code>/var/cache</code> directory as cache in docker when running the command</li>
</ol>
</li>
<li>
<p>Commit <code>requirements.txt</code> and <code>Dockerfile</code></p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>add<span class="w"> </span>requirements.txt<span class="w"> </span>Dockerfile<span class="w"> </span>pyproject.toml<span class="w"> </span>poetry.lock
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="s2">&quot;feat: add plugin mkdocs-multirepo-plugin&quot;</span>
</code></pre></div>
</li>
<li>
<p>Once merged into <code>main</code>, the CI will build the new image and upload it with the <code>latest</code> tag.</p>
</li>
</ol>
<details class="info">
<summary>How we set it up</summary>
<h2 id="setup-from-scratch">Setup from scratch<a class="headerlink" href="#setup-from-scratch" title="Permanent link">&para;</a></h2>
<p>Here's the recommended setup, from our experience setting it up.</p>
<h3 id="project-directory">Project directory<a class="headerlink" href="#project-directory" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>mkdocs-notes<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$_</span>
</code></pre></div>
<h3 id="poetry-project">Poetry project<a class="headerlink" href="#poetry-project" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>init<span class="w"> </span>—name<span class="w"> </span>docs<span class="w"> </span>—description<span class="w"> </span>“Project<span class="w"> </span>Documentation”<span class="w"> </span><span class="c1"># (1)!</span>
<span class="c1"># use a modern stable python like version 3.11.4</span>
<span class="c1"># don’t define dependencies interactively</span>
</code></pre></div>
<ol>
<li>We chose poetry because it performs multiple useful functions such as creating the virtual environment and dependency management. It will be easy to update to the latest versions of dependencies.</li>
</ol>
<h3 id="mkdocs-package">Mkdocs package<a class="headerlink" href="#mkdocs-package" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>poetry<span class="w"> </span>add<span class="w"> </span>mkdocs
</code></pre></div>
<h3 id="mkdocs-project">Mkdocs project<a class="headerlink" href="#mkdocs-project" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>mkdocs<span class="w"> </span>new<span class="w"> </span>.<span class="w"> </span><span class="c1"># creates mkdocs project in current directory</span>
</code></pre></div>
<h3 id="local-dev-server">Local dev server<a class="headerlink" href="#local-dev-server" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>mkdocs<span class="w"> </span>serve<span class="w"> </span>—dev-addr<span class="w"> </span><span class="m">0</span>.0.0.0:8000<span class="w"> </span><span class="c1"># (1)!</span>
</code></pre></div>
<ol>
<li>Start the dev server locally on any address on port 8000.
This is useful for development from a different local network computer, where the default localhost won’t work</li>
</ol>
<h3 id="material-theme">Material theme<a class="headerlink" href="#material-theme" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>add<span class="w"> </span>mkdocs-material
cat<span class="w"> </span><span class="s2">&quot;theme: material&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>mkdocs.yml
git<span class="w"> </span>ci<span class="w"> </span>-a<span class="w"> </span>-m<span class="s2">&quot;setup material theme for mkdocs&quot;</span>
</code></pre></div>
<h3 id="multirepo-not-yet-working"><del>Multirepo</del> (not yet working)<a class="headerlink" href="#multirepo-not-yet-working" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>add<span class="w"> </span>mkdocs-multirepo-plugin
<span class="c1"># add the plugin in mkdocs.yml</span>
<span class="c1"># import the other repos in mkdocs.yml</span>
</code></pre></div>
<h3 id="export-requirements">Export requirements<a class="headerlink" href="#export-requirements" title="Permanent link">&para;</a></h3>
<p>We need to export the requirements whenever we add a new package, so that the docker setup and pip users can know to use it.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># (1)!</span>
poetry<span class="w"> </span><span class="nb">export</span><span class="w"> </span>-f<span class="w"> </span>requirements.txt<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt
</code></pre></div>
<ol>
<li>This is also contained in a script <code>export_requirements.sh</code> in the scripts directory</li>
</ol>
<h3 id="deployment-to-github-pages">Deployment to Github Pages<a class="headerlink" href="#deployment-to-github-pages" title="Permanent link">&para;</a></h3>
<p>We closely followed <a href="https://squidfunk.github.io/mkdocs-material/publishing-your-site/">this guide</a>.
This setup creates a gh-pages branch to store the latest docs. Make the necessary configurations in the Github repo settings as necessary under Pages.</p>
<h3 id="docker-setup">Docker setup<a class="headerlink" href="#docker-setup" title="Permanent link">&para;</a></h3>
<p>We modified the dockerfile and docker-compose files from People Depot to install and serve mkdocs locally.
The files are <code>docker-compose.yml</code> and <code>Dockerfile</code>.</p>
</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tracking", "search.highlight"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>